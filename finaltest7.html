<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Formulir Deposit</title>
  <style>
    body {
      margin: 0;
      font-family: monospace;
      background: #d19d00;
      color: black;
    }
    .header {
      background: black;
      color: white;
      padding: 10px;
      font-size: 20px;
      text-align: center;
    }
    .marquee {
      background: gold;
      padding: 5px;
      text-align: center;
      font-weight: bold;
    }
    .menu-bar {
      display: flex;
      justify-content: space-around;
      background: #444;
      color: white;
      padding: 10px 0;
    }
    .menu-bar div {
      text-align: center;
      flex: 1;
      padding: 5px;
      border-right: 1px solid #aaa;
    }
    .menu-bar div:last-child {
      border-right: none;
    }
    .info-dana {
      background: white;
      border: 3px solid black;
      margin: 10px;
      padding: 10px;
      text-align: center;
      display: none;
    }
    .section {
      text-align: center;
      margin-top: 20px;
    }
    input[type="text"] {
      width: 80%;
      padding: 10px;
      font-size: 18px;
      text-align: center;
    }
    .nominal-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 5px;
      margin-top: 10px;
    }
    .nominal-buttons button {
      width: 22%;
      padding: 10px;
      font-size: 16px;
      background: #00aaff;
      border: none;
      color: white;
      font-weight: bold;
      border-radius: 5px;
    }
    #submitBtn, #adminBtn {
      margin: 20px auto;
      padding: 10px 30px;
      font-size: 18px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      display: block;
    }
    .info-box {
      text-align: center;
      margin: 20px;
      font-weight: bold;
      font-size: 16px;
    }
    #invoicePage {
      display: none;
      background: white;
      padding: 15px;
      border-radius: 10px;
      max-width: 90%;
      margin: 20px auto;
      font-family: sans-serif;
    }
    #invoicePage h2 {
      text-align: center;
      color: #337ab7;
    }
    .qr-box {
      text-align: center;
    }
    .qr-box img {
      width: 80%;
      max-width: 300px;
    }
    .button-group {
      text-align: center;
      margin-top: 10px;
    }
    .button-group button {
      padding: 10px;
      margin: 5px;
      font-size: 16px;
    }
    #panduan {
      display: none;
      background: #f1f1f1;
      margin: 10px;
      padding: 10px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="header">FORMULIR DEPOSIT</div>
  <div class="marquee">Pilih Menu Deposit Yang Diinginkan, Scan Qris, Isi Nominal, Transfer Dan Klik Telah Membayar. Deposit Wajib Menggunakan Kode Unik 818</div>
  <div class="menu-bar">
    <div onclick="selectMethod('bank')">QRIS BANK</div>
    <div onclick="selectMethod('instan')">QRIS INSTAN</div>
    <div onclick="selectMethod('dana')">DANA</div>
    <div onclick="selectMethod('ewallet')">QRIS EWALLET</div>
  </div>

  <div class="info-box" id="defaultInfo">Klik 1 Dari 4 Method Diatas, Masukan Nominal, Dan Tunggu Invoice Untuk QRIS, Deposit Qris 3 Detik Masuk!!!</div>

  <div class="info-dana" id="danaInfo">DANA - 088214538915 - SURWATI</div>

  <div class="section">
    <div>Jumlah Deposit</div>
    <input type="text" id="nominal" placeholder="Masukan Nominal" readonly>
    <div class="nominal-buttons">
      <button onclick="addNominal(50000)">50K</button>
      <button onclick="addNominal(100000)">100K</button>
      <button onclick="addNominal(200000)">200K</button>
      <button onclick="addNominal(500000)">500K</button>
      <button onclick="addNominal(750000)">750K</button>
      <button onclick="addNominal(1000000)">1.000K</button>
      <button onclick="addNominal(1250000)">1.250K</button>
      <button onclick="addNominal(1500000)">1.500K</button>
      <button onclick="addNominal(2000000)">2.000K</button>
    </div>
    <button id="submitBtn" onclick="submitDeposit()">KIRIM</button>
  </div>
  <button id="adminBtn" onclick="window.location.href='https://direct.lc.chat/19188360/'">Hubungi Admin</button>

  <div id="invoicePage">
    <h2>Invoice</h2>
    <div><strong>NO. INVOICE</strong><br><span id="invNumber"></span></div>
    <div><strong>TGL.</strong><br><span id="invDate"></span></div>
    <div><strong>BATAS PEMBAYARAN</strong><br><span id="invCountdown"></span></div>
    <div><strong>STATUS</strong><br><span id="invStatus" style="color:red;font-weight:bold">UNPAID</span></div>
    <div><strong>KETERANGAN</strong><br>Top Up <span id="invKeterangan"></span></div>
    <div><strong>JUMLAH</strong><br>IDR <span id="invJumlah"></span></div>
    <div><strong>BIAYA LAYANAN</strong><br>IDR 0,00</div>
    <div><strong>TOTAL BAYAR</strong><br>IDR <span id="invTotal"></span></div>
    <div><strong>PILIHAN PEMBAYARAN</strong><br><img src="https://gtyfup2m.112400c1199c.com/logo-qris.png" width="150" /></div>
    <div class="qr-box">
      <p>Pindai untuk membayar</p>
      <img src="https://imagizer.imageshack.com/v2/320xq70/r/922/uOeZAn.jpg" alt="QRIS" />
    </div>
    <div class="button-group">
      <button onclick="window.location.href='https://direct.lc.chat/19188360/'">Hubungi Admin</button>
      <button onclick="history.back()">Saya Telah Membayar</button>
      <button onclick="togglePanduan()">Panduan Pembayaran</button>
    </div>
    <div id="panduan">
      1. Buka aplikasi mobile banking atau e-money<br>
      2. Klik logo/tombol/menu "Bayar (Pay)" atau "Pindai (Scan)"<br>
      3. Scan QR Code, Isi Nominal<br>
      4. Klik tombol "Pay" atau "Bayar"
    </div>
  </div>

  <script>
    let method = '';
    let currentNominal = 0;
    let countdown;

    function formatNumber(n) {
      return n.toLocaleString('id-ID');
    }

    function selectMethod(m) {
      method = m;
      document.getElementById('defaultInfo').style.display = 'none';
      document.getElementById('danaInfo').style.display = m === 'dana' ? 'block' : 'none';
    }

    function addNominal(n) {
      currentNominal += n;
      document.getElementById('nominal').value = formatNumber(currentNominal);
    }

    function submitDeposit() {
      if (currentNominal < 50000) return alert('Minimal 50.000');

      if (method === 'dana') {
        alert('Deposit Berhasil Dikirim');
        history.back();
      } else {
        document.querySelector('.section').style.display = 'none';
        document.getElementById('invoicePage').style.display = 'block';

        let now = new Date();
        document.getElementById('invNumber').textContent = now.getTime().toString(36);
        document.getElementById('invDate').textContent = now.toISOString().slice(0, 19).replace('T', ' ');
        document.getElementById('invKeterangan').textContent = currentNominal;
        document.getElementById('invJumlah').textContent = formatNumber(currentNominal);
        document.getElementById('invTotal').textContent = formatNumber(currentNominal);

        let minutes = 9, seconds = 59;
        countdown = setInterval(() => {
          let m = minutes.toString().padStart(2, '0');
          let s = seconds.toString().padStart(2, '0');
          document.getElementById('invCountdown').textContent = `${m}:${s}`;
          if (minutes === 0 && seconds === 0) {
            clearInterval(countdown);
            document.getElementById('invStatus').textContent = 'EXPIRED';
          }
          if (seconds-- === 0) {
            seconds = 59;
            minutes--;
          }
        }, 1000);
      }
    }

    function togglePanduan() {
      let x = document.getElementById('panduan');
      x.style.display = x.style.display === 'block' ? 'none' : 'block';
    }
  </script>
</body>
</html>
